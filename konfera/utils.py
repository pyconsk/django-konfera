from konfera.settings import GOOGLE_ANALYTICS


def collect_view_data(request):
    """
    Function collects view_data generated by other functions
    """
    view_data = dict()

    if GOOGLE_ANALYTICS:
        view_data['ga'] = GOOGLE_ANALYTICS

    return view_data


def update_event_context(event, context, show_sponsors=True):
    context['event'] = event

    if show_sponsors:
        context['sponsors'] = event.sponsors.all().order_by('type', 'title')

    if event.analytics:
        context['ga'] = event.analytics
